root = document.documentElement;
themeBtn = document.getElementById("theme-btn");
themeIcon = document.getElementById("theme-icon");

// On page load, set the saved theme if there exists one
var mode = window.localStorage.getItem("theme");
if (mode == null) {
  window.localStorage.setItem("theme", "light");
} else if (mode == "dark") {
  root.classList.toggle("dark");
  themeIcon.src = "static/images/navbar/moon.png";
}

themeBtn.addEventListener("click", function () {
  mode = window.localStorage.getItem("theme");
  root.classList.toggle("dark");
  if (mode == "light") {
    window.localStorage.setItem("theme", "dark");
    themeIcon.src = "static/images/navbar/moon.png";
  } else {
    window.localStorage.setItem("theme", "light");
    themeIcon.src = "static/images/navbar/sun.png";
  }
});
